_format_version: "1.0"
table:
  name: EquipmentEvent
  schema: dbo
  description: "Records a discrete lifecycle event (calibration, maintenance, failure, etc.) that occurred on a specific piece of equipment."

  columns:
    - name: EquipmentEvent_ID
      logical_type: integer
      nullable: false
      identity: true
      description: "Surrogate primary key"
    - name: Equipment_ID
      logical_type: integer
      nullable: false
      description: "Equipment on which the event occurred"
      foreign_key:
        table: Equipment
        column: Equipment_ID
    - name: EquipmentEventType_ID
      logical_type: integer
      nullable: false
      description: "Type of lifecycle event"
      foreign_key:
        table: EquipmentEventType
        column: EquipmentEventType_ID
    - name: EventDateTimeStart
      logical_type: timestamp
      precision: 7
      nullable: false
      description: "Date and time the event began (UTC)"
    - name: EventDateTimeEnd
      logical_type: timestamp
      precision: 7
      nullable: true
      description: "Date and time the event ended (UTC). NULL if instantaneous or ongoing."
    - name: PerformedByPerson_ID
      logical_type: integer
      nullable: true
      description: "Person who performed or recorded the event"
      foreign_key:
        table: Person
        column: Person_ID
    - name: Campaign_ID
      logical_type: integer
      nullable: true
      description: "Campaign during which this event occurred (if applicable)"
      foreign_key:
        table: Campaign
        column: Campaign_ID
    - name: Notes
      logical_type: string
      max_length: 1000
      nullable: true
      description: "Free-text notes about the event"

  primary_key: [EquipmentEvent_ID]

  indexes:
    - name: IX_EquipmentEvent_Equipment_Start
      columns: [Equipment_ID, EventDateTimeStart]
      unique: false
      description: "Supports efficient retrieval of event history for a specific sensor ordered by time"
